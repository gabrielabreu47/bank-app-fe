<app-single-item-layout backRoute="clients">
  <form [formGroup]="clientForm" (submit)="handleSubmit()">
    <h2 class="title">{{(client ? 'Actualizar' : 'Crear') + ' cliente'}}</h2>
    <div class="form-input-container">
      <label for="name">Nombre</label>
      <input class="form-input" type="text" formControlName="name" id="name">
    </div>
    <div class="form-input-container">
      <label for="lastName">Apellido</label>
      <input class="form-input" type="text" formControlName="lastName" id="lastName">
    </div>
    @if (!client) {
      <div class="form-input-container">
        <label for="password">Contraseña</label>
        <input class="form-input" type="password" formControlName="password" id="password">
      </div>
      <div class="form-input-container">
        <label for="confirmPassword">Confirmar contraseña</label>
        <input class="form-input" type="password" formControlName="confirmPassword" id="confirmPassword">
        @if(!passwordsMatch){
          <span class="invalid">Las contraseñas no coinciden</span>
        }
      </div>
    }
    <div class="form-input-container">
      <label for="gender">Género</label>
      <select class="form-input" formControlName="gender" id="gender">
        <option [value]="Gender.M">Masculino</option>
        <option [value]="Gender.F">Femenino</option>
      </select>
    </div>
    <div class="form-input-container">
      <label for="birthDate">Fecha de nacimiento</label>
      <input class="form-input" type="date" formControlName="birthDate" id="birthDate">
    </div>
    <div class="form-input-container">
      <label for="identification">No. de identificación</label>
      <input class="form-input" type="text" formControlName="identification" id="identification">
    </div>
    <div class="form-input-container">
      <label for="address">Dirección</label>
      <input class="form-input" type="text" formControlName="address" id="address">
    </div>
    <div class="form-input-container">
      <label for="phone">Teléfono</label>
      <input mask="(000) 000-0000" class="form-input" type="text" formControlName="phone" id="phone">
    </div>
    <input [disabled]="submitting || clientForm.invalid" type="submit" value="Guardar">
  </form>
  @if (client && renderChildren) {
    <app-accounts [client]="client"></app-accounts>
  }
</app-single-item-layout>
